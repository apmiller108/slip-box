:PROPERTIES:
:ID:       BB17CF51-DA23-46BB-A641-7B9D599715E0
:END:
#+title: Emacs cheatsheet
#+date: 2021-03-28 18:32 PM
#+updated: 2023-04-19 12:45 PM
#+filetags: :emacs:

This is just a dump or random things I've learned how to do in Emacs but will
probably forget.

* Word Wrapping

 - ~auto-fill-mode~ is what you need. This will automatically wrap words after
   the line exceeds whatever value is set for [[elisp:(describe-variable 'fill-column)][fill-column]]

   For example, turn it on for org-mode
   #+begin_src elisp
     (setq-default fill-column 80)
     (add-hook 'org-mode-hook (lambda () (auto-fill-mode 1)))
   #+end_src

 - ~fill-region~ does what is says

* Advising Functions
  [[https://www.gnu.org/software/emacs/manual/html_node/elisp/Advising-Functions.html][Advising-Functions docs]]

  #+begin_notes
  See also [[id:F6A66B44-5739-4069-BA08-87C735CCF704][Overriding package functions in emacs]].
  #+end_notes

** After callback example
   #+begin_src elisp
     ;; Save Org buffers after refiling
     (advice-add 'org-refile :after 'org-save-all-org-buffers)
   #+end_src

* Surrounding
  Just use [[id:D1A12F6B-6303-4DFF-AFD8-8742A16D1A7E][Evil-surround]].
  - ~s(~ to surround region (with parenthesis in this example)
    Example:
    1. visually select a symbol
    2. surround visual selection with ~'~
    #+begin_src
      vio
      s'
    #+end_src
  - ~cs'~ to replace surround (example using single quote, but can be anything)

** Selecting text within surround
   ~vi~ [Option]
* Repeating text
  1. Select the region
  2. ~SHIFT I~ (evil insert line count)
  4. Type characters
  5. ~ESC~ (the repeated chars are added)
* Font
  ~M-x menu-set-font~ offers a GUI font picker and size setter with previews.

* Troubleshooting
** Freezes
*** ~C g~ will break a loop
*** Send kill cmd to trigger debugger
    #+begin_src
    ps aux | grep -ie emacs | grep -v grep | awk '{print $2}' | xargs kill -SIGUSR2
    #+end_src

    See also https://emacs.stackexchange.com/a/649

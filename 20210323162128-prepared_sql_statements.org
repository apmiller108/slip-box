#+title: Prepared SQL statements
#+date: 2021-03-23 16:21 PM
#+roam_tags: postgres sql 

* Prepared SQL Statements / Parameterized Query
  [[https://www.postgresql.org/docs/13/sql-prepare.html][Postgres PREPARE]]
  
  #+begin_src
    PREPARE foo(int) AS
      SELECT * FROM users where id = $1;
    EXECUTE foo(1);
    DEALLOCATE foo;
  #+end_src

  - Prepared statements only last for the duration of the current database
    session, but can be cleaned up manually with ~DEALLOCATE~
